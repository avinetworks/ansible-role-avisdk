interactions:
- request:
    body: null
    headers:
      Content-Type:
      - application/json
      Cookie:
      - avi-sessionid=yc456wh3uax7krsqxywa9qr2yeusvy4b; csrftoken=Mkdb9XUu7O8dys4ajj74SiNomKvFSazh;
        sessionid=yc456wh3uax7krsqxywa9qr2yeusvy4b; avi-sessionid=yc456wh3uax7krsqxywa9qr2yeusvy4b;
        csrftoken=Mkdb9XUu7O8dys4ajj74SiNomKvFSazh; sessionid=yc456wh3uax7krsqxywa9qr2yeusvy4b
      Referer:
      - https://10.79.171.103
      X-Avi-Tenant:
      - admin
      X-Avi-Version:
      - 21.1.1
      X-CSRFToken:
      - Mkdb9XUu7O8dys4ajj74SiNomKvFSazh
      timeout:
      - None
    method: GET
    uri: https://10.79.171.103/api/pkiprofile?include_refs=&include_name=&name=test-pkiprofile
  response:
    body:
      string: '{"count": 0, "results": []}'
    headers:
      AVI_API_VERSION:
      - 21.1.1
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - Accept,Authorization,Cache-Control,Content-Type,DNT,If-Modified-Since,Keep-Alive,Origin,User-Agent,X-Mx-ReqToken,X-Requested-With,X-Avi-Tenant,X-Avi-UserAgent,X-Avi-Tenant-UUID,X-CSRFToken,X-PORTAL-AUTHTOKEN
      Access-Control-Allow-Methods:
      - GET
      Access-Control-Expose-Headers:
      - X-NEXT-CALL
      Allow:
      - GET, POST, OPTIONS, HEAD
      Cache-Control:
      - private, no-cache, must-revalidate
      Connection:
      - keep-alive
      Content-Security-Policy:
      - default-src 'self'; style-src 'self' 'unsafe-inline'; font-src 'self' data:;
        img-src 'self' data:;
      Content-Type:
      - application/json
      Date:
      - Wed, 23 Jun 2021 10:58:21 GMT
      Referrer-Policy:
      - strict-origin
      Set-Cookie:
      - avi-sessionid=yc456wh3uax7krsqxywa9qr2yeusvy4b; expires=Thu, 24-Jun-2021 10:58:21
        GMT; HttpOnly; Max-Age=86400; Path=/; SameSite=None; Secure
      - sessionid=yc456wh3uax7krsqxywa9qr2yeusvy4b; expires=Thu, 24-Jun-2021 10:58:21
        GMT; HttpOnly; Max-Age=86400; Path=/; SameSite=None; Secure
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Cookie
      - Origin
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - 1; mode=block
    status:
      code: 200
      message: OK
- request:
    body: '{"name": "test-pkiprofile", "tenant_ref": "/api/tenant/?name=admin", "is_federated":
      true, "ignore_peer_chain": false, "crl_check": false, "ca_certs": [{"key": "-----BEGIN
      PRIVATE KEY-----\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQC8xLISe3OWnrzj\nlK16ZaEtuWxT48PkS9jaQGNQrwsqQz9LtzdJ1azESv3CrsW/WEExgyxlVt3Ka0r0\njeLFZ4tMoSS/G0SFhC/p8MhfTelmFZxjuQ8JMUv3wTmJqHFqdblkKajxd3FOc801\nUTQ/gmhyC6FxYHXy4KNEJQQrXw6CESFEYRMwx/0Ls6H+Jo0Mh+gC7A9//y1U6xHI\npE19D2dNKhP6UID/atEE0EZ6nCSHLVXCb8Wg2Hq2e5mLDp1bPIi1AdUeQIYTxfEd\nnkuDKwvMjtZtCd5h4iyF+byVlbVt2ivY6OiGFpwrLULGnVasWPIIik6GR8517XAv\nwJUBC6f7AgMBAAECggEAF6LRYTsP+BYcNKrTJfY/vkfvZnmod5d/qaRSSzH/xeTx\nsftY8ufMYC+7onrby9+zGg4Aqxe7YbMZiZGSiYEzkf7DaSJy6/znOvWpQTWyOdQO\n5vWvCkmf53/MQo5S1S+0bPRCcSmxiE87rKdkUWd0yILoThfz7Ntv1gKEiSG34VUo\njzi1Q0u0TXpY/i0MVG4683Ia5eRAXbicg++FuuMU2qkMqso7VaJ46LtcV49FEfOJ\n5xMqlSv3YBCxCzZ+WJuVhSNRGJRPvjRmN+dt8cjXamk8hggt900RAkjvIO34ThBY\nV600ACc4IXlXob0VfUKu3/7VB8hX/YJZ/YCBAWJUIQKBgQDsx7j+WONs8fa2gSNo\ntLFaQLGpgpUZkP+6yxCVW1C1zYdRy1PIpKGLdJBNw8HflH9wID8YLMbMue6cN3SR\nDHtP1gcCCCNqh6iwI2ZK57qg0eXCtJ2ekGzpXeI0PtlCuq5CKOiZfwfqy9OK4/yA\nTksy1VqxmwU3WI36/cXpZX12+QKBgQDMF0pKAJsDfcvxJli62ikOnHJ6tGDVv0WN\noUvKRogbc1jn38guWDvvDHd3197t3wGiKsxcFPblVBYocYCq8Ir/kkWwdhfbRBue\nTvW+zoPI54w43gYsfhF8VESpSWl9HlfTOae4Xh7YCOPCpUX0TjNNr2uad2pHkVn7\nmFnt33XPkwKBgH7zbopgmj9VVBPyFUwUZWqgeSELdGmqxpIeQhvyQ8nWEpGWVKul\nKUAeFSi8pnv7oIA7qdiKWWR25Co5yXPjn1HkzQkX1/VMGvOlZzkOGZAUOf403LWh\ndeOBhMDCWbZfZQLv8BYsd9A5zIgRSNZ6I/NzVRcYqKlN/4HtAmnrEmPxAoGAZYoY\n3eSbOwt1Ug9ACgbMcoaHtmDT5MR6+FINgR/CS9YBn6uIzvX7K53KOofeU/6ls2cT\nsaSEiehh9dEysNlobmr53SeECwVBsGucfEgG7Qe2jfx4md5HGNJcLtVldGiKTX7b\n4TCCq/0QRCEyQrA9eiMSqBFNgTnhyPktlNmepZ0CgYBlkM5NlfP3AQWHK8VzkORW\nqnpIJMfiOAkoSTbk85nOcEe3arJCQqKvP+MLUmfWBvMOBQv5CejbelBNWRESZIPu\nifL7gIx2L/zRpoYOLmRtCDctMaKjeYsEE94xmFKH5gEIYk0HwC8PDqeBaft6LaAr\npjtsLnpbGa+3rrFYZiq6uA==\n-----END
      PRIVATE KEY-----\n", "certificate": "-----BEGIN CERTIFICATE-----\nMIIC4zCCAcsCAgPoMA0GCSqGSIb3DQEBCwUAMDcxCzAJBgNVBAYTAlVTMRUwEwYD\nVQQKDAxBdmkgTmV0d29ya3MxETAPBgNVBAMMCE9QTFBUMTA4MB4XDTIwMDcxNTA3\nMDQ0N1oXDTMwMDcxMzA3MDQ0N1owNzELMAkGA1UEBhMCVVMxFTATBgNVBAoMDEF2\naSBOZXR3b3JrczERMA8GA1UEAwwIT1BMUFQxMDgwggEiMA0GCSqGSIb3DQEBAQUA\nA4IBDwAwggEKAoIBAQC8xLISe3OWnrzjlK16ZaEtuWxT48PkS9jaQGNQrwsqQz9L\ntzdJ1azESv3CrsW/WEExgyxlVt3Ka0r0jeLFZ4tMoSS/G0SFhC/p8MhfTelmFZxj\nuQ8JMUv3wTmJqHFqdblkKajxd3FOc801UTQ/gmhyC6FxYHXy4KNEJQQrXw6CESFE\nYRMwx/0Ls6H+Jo0Mh+gC7A9//y1U6xHIpE19D2dNKhP6UID/atEE0EZ6nCSHLVXC\nb8Wg2Hq2e5mLDp1bPIi1AdUeQIYTxfEdnkuDKwvMjtZtCd5h4iyF+byVlbVt2ivY\n6OiGFpwrLULGnVasWPIIik6GR8517XAvwJUBC6f7AgMBAAEwDQYJKoZIhvcNAQEL\nBQADggEBAKKq+HHFA835Y0/8kzucH+B55uUUwM1Lwh4DTa9zNvS73C3SryYVW5j2\nrGvcKYJCH7Y8EFKMzr67zgnAoImkFt4D9M3GfXKp38H36h7pNoEiDUlfkUY3fHri\nVFt5xS22PdskVXGV3jv9iHOhIwF2f6hQR4+7jsm/IAeP8Ja+EErGxj/ZhZRYlTJy\nGL9f1BGhb+LC+X7ipKRUDnm7rkN4bCTZ6YKVWymHn0g2YlxSEkmP2FViZltVE1nk\nJrhGyoy4RdtxAXh01AcjBuVuD3W0R0KwwRrzzqyZ8QN4Tyl4PZQwYD1n4KDFNeqz\nT7kS58V2NyaGEjqWB1QnJ3HpJF9ZRnc=\n-----END
      CERTIFICATE-----\n"}]}'
    headers:
      Content-Length:
      - '2996'
      Content-Type:
      - application/json
      Cookie:
      - avi-sessionid=yc456wh3uax7krsqxywa9qr2yeusvy4b; csrftoken=Mkdb9XUu7O8dys4ajj74SiNomKvFSazh;
        sessionid=yc456wh3uax7krsqxywa9qr2yeusvy4b; avi-sessionid=yc456wh3uax7krsqxywa9qr2yeusvy4b;
        csrftoken=Mkdb9XUu7O8dys4ajj74SiNomKvFSazh; sessionid=yc456wh3uax7krsqxywa9qr2yeusvy4b
      Referer:
      - https://10.79.171.103
      X-Avi-Tenant:
      - admin
      X-Avi-Version:
      - 21.1.1
      X-CSRFToken:
      - Mkdb9XUu7O8dys4ajj74SiNomKvFSazh
      timeout:
      - None
    method: POST
    uri: https://10.79.171.103/api/pkiprofile
  response:
    body:
      string: '{"url": "https://10.79.171.103/api/pkiprofile/pkiprofile-5cd40c81-ba5a-4bcc-9e47-d671a09413ac",
        "uuid": "pkiprofile-5cd40c81-ba5a-4bcc-9e47-d671a09413ac", "name": "test-pkiprofile",
        "is_federated": true, "tenant_ref": "https://10.79.171.103/api/tenant/admin",
        "_last_modified": "1624445901563051", "ca_certs": [{"version": "0", "serial_number":
        "1000", "self_signed": true, "issuer": {"common_name": "OPLPT108", "organization":
        "Avi Networks", "country": "US", "distinguished_name": "C=US, O=Avi Networks,
        CN=OPLPT108"}, "subject": {"common_name": "OPLPT108", "organization": "Avi
        Networks", "country": "US", "distinguished_name": "C=US, O=Avi Networks, CN=OPLPT108"},
        "key_params": {"algorithm": "SSL_KEY_ALGORITHM_RSA", "rsa_params": {"key_size":
        "SSL_KEY_2048_BITS", "exponent": 65537}}, "public_key": "-----BEGIN PUBLIC
        KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAvMSyEntzlp6845StemWh\nLblsU+PD5EvY2kBjUK8LKkM/S7c3SdWsxEr9wq7Fv1hBMYMsZVbdymtK9I3ixWeL\nTKEkvxtEhYQv6fDIX03pZhWcY7kPCTFL98E5iahxanW5ZCmo8XdxTnPNNVE0P4Jo\ncguhcWB18uCjRCUEK18OghEhRGETMMf9C7Oh/iaNDIfoAuwPf/8tVOsRyKRNfQ9n\nTSoT+lCA/2rRBNBGepwkhy1Vwm/FoNh6tnuZiw6dWzyItQHVHkCGE8XxHZ5LgysL\nzI7WbQneYeIshfm8lZW1bdor2OjohhacKy1Cxp1WrFjyCIpOhkfOde1wL8CVAQun\n+wIDAQAB\n-----END
        PUBLIC KEY-----\n", "signature_algorithm": "sha256WithRSAEncryption", "not_before":
        "2020-07-15 07:04:47", "not_after": "2030-07-13 07:04:47", "certificate":
        "-----BEGIN CERTIFICATE-----\nMIIC4zCCAcsCAgPoMA0GCSqGSIb3DQEBCwUAMDcxCzAJBgNVBAYTAlVTMRUwEwYD\nVQQKDAxBdmkgTmV0d29ya3MxETAPBgNVBAMMCE9QTFBUMTA4MB4XDTIwMDcxNTA3\nMDQ0N1oXDTMwMDcxMzA3MDQ0N1owNzELMAkGA1UEBhMCVVMxFTATBgNVBAoMDEF2\naSBOZXR3b3JrczERMA8GA1UEAwwIT1BMUFQxMDgwggEiMA0GCSqGSIb3DQEBAQUA\nA4IBDwAwggEKAoIBAQC8xLISe3OWnrzjlK16ZaEtuWxT48PkS9jaQGNQrwsqQz9L\ntzdJ1azESv3CrsW/WEExgyxlVt3Ka0r0jeLFZ4tMoSS/G0SFhC/p8MhfTelmFZxj\nuQ8JMUv3wTmJqHFqdblkKajxd3FOc801UTQ/gmhyC6FxYHXy4KNEJQQrXw6CESFE\nYRMwx/0Ls6H+Jo0Mh+gC7A9//y1U6xHIpE19D2dNKhP6UID/atEE0EZ6nCSHLVXC\nb8Wg2Hq2e5mLDp1bPIi1AdUeQIYTxfEdnkuDKwvMjtZtCd5h4iyF+byVlbVt2ivY\n6OiGFpwrLULGnVasWPIIik6GR8517XAvwJUBC6f7AgMBAAEwDQYJKoZIhvcNAQEL\nBQADggEBAKKq+HHFA835Y0/8kzucH+B55uUUwM1Lwh4DTa9zNvS73C3SryYVW5j2\nrGvcKYJCH7Y8EFKMzr67zgnAoImkFt4D9M3GfXKp38H36h7pNoEiDUlfkUY3fHri\nVFt5xS22PdskVXGV3jv9iHOhIwF2f6hQR4+7jsm/IAeP8Ja+EErGxj/ZhZRYlTJy\nGL9f1BGhb+LC+X7ipKRUDnm7rkN4bCTZ6YKVWymHn0g2YlxSEkmP2FViZltVE1nk\nJrhGyoy4RdtxAXh01AcjBuVuD3W0R0KwwRrzzqyZ8QN4Tyl4PZQwYD1n4KDFNeqz\nT7kS58V2NyaGEjqWB1QnJ3HpJF9ZRnc=\n-----END
        CERTIFICATE-----", "text": "Certificate:\n    Data:\n        Version: 1 (0x0)\n        Serial
        Number: 1000 (0x3e8)\n        Signature Algorithm: sha256WithRSAEncryption\n        Issuer:
        C=US, O=Avi Networks, CN=OPLPT108\n        Validity\n            Not Before:
        Jul 15 07:04:47 2020 GMT\n            Not After : Jul 13 07:04:47 2030 GMT\n        Subject:
        C=US, O=Avi Networks, CN=OPLPT108\n        Subject Public Key Info:\n            Public
        Key Algorithm: rsaEncryption\n                RSA Public-Key: (2048 bit)\n                Modulus:\n                    00:bc:c4:b2:12:7b:73:96:9e:bc:e3:94:ad:7a:65:\n                    a1:2d:b9:6c:53:e3:c3:e4:4b:d8:da:40:63:50:af:\n                    0b:2a:43:3f:4b:b7:37:49:d5:ac:c4:4a:fd:c2:ae:\n                    c5:bf:58:41:31:83:2c:65:56:dd:ca:6b:4a:f4:8d:\n                    e2:c5:67:8b:4c:a1:24:bf:1b:44:85:84:2f:e9:f0:\n                    c8:5f:4d:e9:66:15:9c:63:b9:0f:09:31:4b:f7:c1:\n                    39:89:a8:71:6a:75:b9:64:29:a8:f1:77:71:4e:73:\n                    cd:35:51:34:3f:82:68:72:0b:a1:71:60:75:f2:e0:\n                    a3:44:25:04:2b:5f:0e:82:11:21:44:61:13:30:c7:\n                    fd:0b:b3:a1:fe:26:8d:0c:87:e8:02:ec:0f:7f:ff:\n                    2d:54:eb:11:c8:a4:4d:7d:0f:67:4d:2a:13:fa:50:\n                    80:ff:6a:d1:04:d0:46:7a:9c:24:87:2d:55:c2:6f:\n                    c5:a0:d8:7a:b6:7b:99:8b:0e:9d:5b:3c:88:b5:01:\n                    d5:1e:40:86:13:c5:f1:1d:9e:4b:83:2b:0b:cc:8e:\n                    d6:6d:09:de:61:e2:2c:85:f9:bc:95:95:b5:6d:da:\n                    2b:d8:e8:e8:86:16:9c:2b:2d:42:c6:9d:56:ac:58:\n                    f2:08:8a:4e:86:47:ce:75:ed:70:2f:c0:95:01:0b:\n                    a7:fb\n                Exponent:
        65537 (0x10001)\n    Signature Algorithm: sha256WithRSAEncryption\n         a2:aa:f8:71:c5:03:cd:f9:63:4f:fc:93:3b:9c:1f:e0:79:e6:\n         e5:14:c0:cd:4b:c2:1e:03:4d:af:73:36:f4:bb:dc:2d:d2:af:\n         26:15:5b:98:f6:ac:6b:dc:29:82:42:1f:b6:3c:10:52:8c:ce:\n         be:bb:ce:09:c0:a0:89:a4:16:de:03:f4:cd:c6:7d:72:a9:df:\n         c1:f7:ea:1e:e9:36:81:22:0d:49:5f:91:46:37:7c:7a:e2:54:\n         5b:79:c5:2d:b6:3d:db:24:55:71:95:de:3b:fd:88:73:a1:23:\n         01:76:7f:a8:50:47:8f:bb:8e:c9:bf:20:07:8f:f0:96:be:10:\n         4a:c6:c6:3f:d9:85:94:58:95:32:72:18:bf:5f:d4:11:a1:6f:\n         e2:c2:f9:7e:e2:a4:a4:54:0e:79:bb:ae:43:78:6c:24:d9:e9:\n         82:95:5b:29:87:9f:48:36:62:5c:52:12:49:8f:d8:55:62:66:\n         5b:55:13:59:e4:26:b8:46:ca:8c:b8:45:db:71:01:78:74:d4:\n         07:23:06:e5:6e:0f:75:b4:47:42:b0:c1:1a:f3:ce:ac:99:f1:\n         03:78:4f:29:78:3d:94:30:60:3d:67:e0:a0:c5:35:ea:b3:4f:\n         b9:12:e7:c5:76:37:26:86:12:3a:96:07:54:27:27:71:e9:24:\n         5f:59:46:77\n",
        "fingerprint": "SHA1 Fingerprint=3C:2C:8C:72:A4:60:E2:EC:3C:55:B0:11:7A:E9:D3:BD:AB:8E:F1:30\n",
        "expiry_status": "SSL_CERTIFICATE_GOOD", "days_until_expire": 365}], "ignore_peer_chain":
        false, "crl_check": false, "validate_only_leaf_crl": true}'
    headers:
      AVI_API_VERSION:
      - 21.1.1
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - Accept,Authorization,Cache-Control,Content-Type,DNT,If-Modified-Since,Keep-Alive,Origin,User-Agent,X-Mx-ReqToken,X-Requested-With,X-Avi-Tenant,X-Avi-UserAgent,X-Avi-Tenant-UUID,X-CSRFToken,X-PORTAL-AUTHTOKEN
      Access-Control-Allow-Methods:
      - GET
      Access-Control-Expose-Headers:
      - X-NEXT-CALL
      Allow:
      - GET, POST, OPTIONS, HEAD
      Cache-Control:
      - private, no-cache, must-revalidate
      Connection:
      - keep-alive
      Content-Security-Policy:
      - default-src 'self'; style-src 'self' 'unsafe-inline'; font-src 'self' data:;
        img-src 'self' data:;
      Content-Type:
      - application/json
      Date:
      - Wed, 23 Jun 2021 10:58:21 GMT
      Referrer-Policy:
      - strict-origin
      Set-Cookie:
      - avi-sessionid=yc456wh3uax7krsqxywa9qr2yeusvy4b; expires=Thu, 24-Jun-2021 10:58:21
        GMT; HttpOnly; Max-Age=86400; Path=/; SameSite=None; Secure
      - sessionid=yc456wh3uax7krsqxywa9qr2yeusvy4b; expires=Thu, 24-Jun-2021 10:58:21
        GMT; HttpOnly; Max-Age=86400; Path=/; SameSite=None; Secure
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Cookie
      - Origin
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - 1; mode=block
    status:
      code: 201
      message: CREATED
version: 1
